<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="605" height="347" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:605px;height:347px" preserveAspectRatio="none" version="1.1" viewBox="0 0 605 347" zoomAndPan="magnify"><defs><filter id="fvlkpfufpyj60" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text x="78" y="23.535" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="450">Authenticate an MQTT Client with an OAuth 2.0 Access Token</text><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="59" x2="59" y1="68.977" y2="307.15"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="252.5" x2="252.5" y1="68.977" y2="307.15"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="474" x2="474" y1="68.977" y2="307.15"/><rect style="stroke:#a80036;stroke-width:1.5" width="99" height="30.488" x="8" y="33.488" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="15" y="54.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85">MQTT Client</text><rect style="stroke:#a80036;stroke-width:1.5" width="99" height="30.488" x="8" y="306.15" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="15" y="326.685" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85">MQTT Client</text><rect style="stroke:#a80036;stroke-width:1.5" width="170" height="30.488" x="165.5" y="33.488" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="172.5" y="54.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156">MQTT Broker (HiveMQ)</text><rect style="stroke:#a80036;stroke-width:1.5" width="170" height="30.488" x="165.5" y="306.15" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="172.5" y="326.685" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156">MQTT Broker (HiveMQ)</text><rect style="stroke:#a80036;stroke-width:1.5" width="243" height="30.488" x="351" y="33.488" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="358" y="54.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="229">Authorization Server (ForgeRock)</text><rect style="stroke:#a80036;stroke-width:1.5" width="243" height="30.488" x="351" y="306.15" fill="#FEFECE" filter="url(#fvlkpfufpyj60)"/><text x="358" y="326.685" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="229">Authorization Server (ForgeRock)</text><polygon fill="#A80036" points="462.5 96.287 472.5 100.287 462.5 104.287 466.5 100.287" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="59.5" x2="468.5" y1="100.287" y2="100.287"/><text x="66.5" y="95.545" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280">Request access token (client credential flow)</text><polygon fill="#A80036" points="70.5 125.598 60.5 129.598 70.5 133.598 66.5 129.598" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="64.5" x2="473.5" y1="129.598" y2="129.598"/><text x="76.5" y="124.856" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84">Access token</text><polygon fill="#A80036" points="240.5 154.908 250.5 158.908 240.5 162.908 244.5 158.908" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="59.5" x2="246.5" y1="158.908" y2="158.908"/><text x="66.5" y="154.166" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169">Connect with access token</text><polygon fill="#A80036" points="462.5 184.219 472.5 188.219 462.5 192.219 466.5 188.219" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="252.5" x2="468.5" y1="188.219" y2="188.219"/><text x="259.5" y="183.477" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198">Request token verification keys</text><polygon fill="#A80036" points="263.5 213.529 253.5 217.529 263.5 221.529 259.5 217.529" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="257.5" x2="473.5" y1="217.529" y2="217.529"/><text x="269.5" y="212.787" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147">Token verification keys</text><line style="stroke:#a80036;stroke-width:1" x1="252.5" x2="294.5" y1="246.84" y2="246.84"/><line style="stroke:#a80036;stroke-width:1" x1="294.5" x2="294.5" y1="246.84" y2="259.84"/><line style="stroke:#a80036;stroke-width:1" x1="253.5" x2="294.5" y1="259.84" y2="259.84"/><polygon fill="#A80036" points="263.5 255.84 253.5 259.84 263.5 263.84 259.5 259.84" style="stroke:#a80036;stroke-width:1"/><text x="259.5" y="242.098" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136">Validate access token</text><polygon fill="#A80036" points="70.5 285.15 60.5 289.15 70.5 293.15 66.5 289.15" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="64.5" x2="251.5" y1="289.15" y2="289.15"/><text x="76.5" y="284.408" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126">Connection success</text></g></svg>